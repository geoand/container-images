FROM maven:3.6.2-jdk-8-slim

USER root

ADD pom.xml pom.xml

RUN  mkdir -p /tmp/artefacts && \
     chmod a+x /tmp/artefacts && \
     chown -R 1001:0 /tmp/artefacts

RUN mvn dependency:go-offline -f pom.xml -Dmaven.repo.local=/tmp/artefacts
